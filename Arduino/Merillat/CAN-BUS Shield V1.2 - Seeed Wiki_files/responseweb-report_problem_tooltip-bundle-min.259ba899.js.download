var SM;if(typeof module==="object"&&module.exports&&typeof require==="function"){SM=require("../SM")}SM.Browser={init:function(){var e=document.body.className;this.isIE6=e.indexOf("ie6")!==-1;this.isIE7=e.indexOf("ie7")!==-1;this.isIE8=e.indexOf("ie8")!==-1;this.isIE9=e.indexOf("ie9")!==-1;this.isOldIE=this.isIE9||this.isIE8||this.isIE7||this.isIE6;this.isIE=!!("ActiveXObject"in window||window.ActiveXObject);this.isFirefox=window.navigator.userAgent.indexOf("Firefox")!==-1;this.isSafari=window.navigator.userAgent.indexOf("Safari")!==-1},support:{mediaQuery:function(){var e=window.matchMedia||window.msMatchMedia;return!!e},notSupported:function(){var e=window.navigator.userAgent.toLowerCase(),t=SM.Browser,i=0;if(t.isOldIE&&!t.isIE9){return true}else if(t.isFirefox){e=e.substring(e.indexOf("firefox/")+8);i=parseFloat(e.substring(0,e.indexOf(".")));if(i<10){return true}}else if(t.isSafari){e=e.substring(e.indexOf("version/")+8);e=e.substring(0,e.indexOf(" "));i=parseFloat(e.substring(0,e.indexOf(".")));if(i<=3){return true}}return false},needsBrowserUpgrade:function(){if(!SM.Cookies.get("upgrade_browser_modal")){if(SM.Browser.support.notSupported()){SM.Views.create(SM.DialogView,{templateID:"upgrade-browser-warning-dialog-template",isModal:true,width:780}).open()}SM.Cookies.set("upgrade_browser_modal","true","1d","/")}}}};SM.Browser.init();if(typeof module==="object"&&module.exports){module.exports=SM.Browser}SM.Tooltips={init:function(e){this.enable(e)},enable:function(e){e=SM.Object.extend({selector:"[title]",delay:1500,fadeIn:false,fadeOut:false,fadeTime:250},e);if(!SM.Browser.isOldIE){$(document).on("mouseenter.smtooltips",e.selector,{self:this,delay:e.delay,fadeIn:e.fadeIn,fadeOut:e.fadeOut,fadeTime:e.fadeTime},this._onMouseenter)}},disable:function(e){var t=e?e:"[title]";if(!SM.Browser.isOldIE){$(document).off("mouseenter.smtooltips",t)}},_onMouseenter:function(e){var t=e.data.self,i=e.data.delay,o=e.data.fadeTime,s=e.data.fadeIn,n=e.data.fadeOut,r=$(e.currentTarget),a;if(!r.data("tooltip")){a=t._getAttrs(r);if(!a.text){return}r.data("tooltip",a);r.removeAttr("title");r.on("click.smtooltips mouseleave.smtooltips remove.smtooltips",{self:t,fadeOut:n,fadeTime:o},t._destroy);setTimeout(function(){var e=r.data("tooltip");if(e&&!e.isShown){t._showTipOn(r,s,o)}},i)}},_destroy:function(e){var t=$(this),i=e.data.fadeOut,o=e.data.fadeTime,s;s=t.data("tooltip");if(!s){return}if(s.$el){if(i){s.$el.fadeOut(o,function(){s.$el.remove()})}else{s.$el.remove()}}t.off("mouseleave.smtooltips");t.off("remove.smtooltips");t.off("click.smtooltips");t.attr("title",s.text);t.data("tooltip",null)},_showTipOn:function(e,t,i){var o=e.data("tooltip"),s=SM.Object.copy(this._sides[o.side].position),n=this._build(o);o.$el=n;o.isShown=true;if(t){n.hide().appendTo(document.body).fadeIn(i)}else{document.body.appendChild(n[0])}s.of=e;n.position($.migrationFixPosition(s))},_build:function(e){var t=document.createElement("div"),i="tool-tip ";i+=this._sides[e.side].className;if(e.classes){i+=" "+e.classes}t.className=i;t.textContent=e.text;return $(t)},_sides:{left:{className:"tool-tip-left",position:{my:"right center",at:"left center",offset:"-5 0",collision:"none"}},right:{className:"tool-tip-right",position:{my:"left center",at:"right center",offset:"5 0",collision:"none"}},top:{className:"tool-tip-top",position:{my:"center bottom",at:"center top",offset:"0 -5",collision:"none"}},bottom:{className:"tool-tip-bottom",position:{my:"center top",at:"center bottom",offset:"0 5",collision:"none"}}},_getAttrs:function(e){return{text:e.attr("title"),side:e.attr("sm-tooltip-side")||"top",classes:e.attr("sm-tooltip-classes")}}};$(function(){if(SM.Tooltips){SM.Tooltips.enable({selector:".report-problem-container-spage .report-problem-trigger[title]",delay:200})}});